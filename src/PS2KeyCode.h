/* Version V1.0.8
  PS2KeyCode.h - PS2KeyAdvanced library Internal actual PS2 key code sequences
  Copyright (c) 2007 Free Software Foundation.  All right reserved.
  Written by Paul Carpenter, PC Services <sales@pcserviceselectronics.co.uk>
  Created September 2014
  Updated January 2016 - Paul Carpenter - add tested on Due and tidy ups for V1.5 Library Management
  Updated December 2019 - Paul Carpenter - Fix typo in code for Multimedia STOP

  PRIVATE to library

  Test History
    September 2014 Uno and Mega 2560 September 2014 using Arduino V1.6.0
    January 2016   Uno, Mega 2560 and Due using Arduino 1.6.7 and Due Board 
                    Manager V1.6.6

  This is for a LATIN style keyboard. Will support most keyboards even ones
  with multimedia keys or even 24 function keys.

  Definitions used for key codes from a PS2 keyboard, do not use in your
  code these are to be handled INTERNALLY by the library.
  (may disappear in updates do not rely on this file or definitions)

  See PS2KeyAdvanced.h for codes returned from library and flag settings

  Defines are in three groups

     Special codes definition of communications bytes

     Single Byte codes returned as key codes

     Two byte Codes preceded by E0 code returned as keycodes

  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation; either
  version 2.1 of the License, or (at your option) any later version.

  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.

  You should have received a copy of the GNU Lesser General Public
  License along with this library; if not, write to the Free Software
  Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
*/

#ifndef PS2KeyCode_h
#define PS2KeyCode_h

/* Ignore code for key code translation */
#define PS2_KEY_IGNORE  0xBB

//  buffer sizes keyboard RX and TX, then key reading buffer
// Minimum size 8 can be larger
#define _RX_BUFFER_SIZE  8
// Minimum size 6 can be larger
#define _TX_BUFFER_SIZE  6
// Output Buffer of unsigned int values. Minimum size 4 can be larger
#define _KEY_BUFF_SIZE   4

/* private defines for library files not global */
/* _ps2mode status flags */
#define _PS2_BUSY        0x80
#define _TX_MODE         0x40
#define _BREAK_KEY       0x20
#define _WAIT_RESPONSE   0x10
#define _E0_MODE         0x08
#define _E1_MODE         0x04
#define _LAST_VALID      0x02

/* _tx_ready flags */
#define _HANDSHAKE       0x80
#define _COMMAND         0x01

/* Key Repeat defines */
#define _NO_BREAKS       0x08
#define _NO_REPEATS      0x80

/* PS2_keystatus byte masks (from 16 bit int masks) */
#define _BREAK    ( PS2_BREAK >> 8 )
#define _SHIFT    ( PS2_SHIFT >> 8 )
#define _CTRL     ( PS2_CTRL >> 8 )
#define _CAPS     ( PS2_CAPS >> 8 )
#define _ALT      ( PS2_ALT >> 8 )
#define _ALT_GR   ( PS2_ALT_GR >> 8 )
#define _GUI      ( PS2_GUI >> 8 )
#define _FUNCTION ( PS2_FUNCTION >> 8 )

/* General defines of comms codes */
/* Command or response */
#define PS2_KC_RESEND   0xFE
#define PS2_KC_ACK      0xFA
#define PS2_KC_ECHO     0xEE
/* Responses */
#define PS2_KC_BAT      0xAA
// Actually buffer overrun
#define PS2_KC_OVERRUN  0xFF
// Below is general error code
#define PS2_KC_ERROR    0xFC
#define PS2_KC_KEYBREAK 0xF0
#define PS2_KC_EXTEND1  0xE1
#define PS2_KC_EXTEND   0xE0
/* Commands */
#define PS2_KC_RESET    0xFF
#define PS2_KC_DEFAULTS 0xF6
#define PS2_KC_DISABLE  0xF5
#define PS2_KC_ENABLE   0xF4
#define PS2_KC_RATE     0xF3
#define PS2_KC_READID   0xF2
#define PS2_KC_SCANCODE 0xF0
#define PS2_KC_LOCK     0xED

/* Single Byte Key Codes */
#define PS2_KC_NUM      0x77
#define PS2_KC_SCROLL   0x7E
#define PS2_KC_CAPS     0x58
#define PS2_KC_L_SHIFT  0x12
#define PS2_KC_R_SHIFT  0x59
/* This is Left CTRL and ALT but Right version is in E0 with same code */
#define PS2_KC_CTRL     0X14
#define PS2_KC_ALT      0x11
/* Generated by some keyboards by ALT and PRTSCR */
#define PS2_KC_SYSRQ    0x84
#define PS2_KC_ESC      0x76
#define PS2_KC_BS       0x66
#define PS2_KC_TAB      0x0D
#define PS2_KC_ENTER    0x5A
#define PS2_KC_SPACE    0x29
#define PS2_KC_KP0      0x70
#define PS2_KC_KP1      0x69
#define PS2_KC_KP2      0x72
#define PS2_KC_KP3      0x7A
#define PS2_KC_KP4      0x6B
#define PS2_KC_KP5      0x73
#define PS2_KC_KP6      0x74
#define PS2_KC_KP7      0x6C
#define PS2_KC_KP8      0x75
#define PS2_KC_KP9      0x7D
#define PS2_KC_KP_DOT   0x71
#define PS2_KC_KP_PLUS  0x79
#define PS2_KC_KP_MINUS 0x7B
#define PS2_KC_KP_TIMES 0x7C
/* Some keyboards have an '=' on right keypad */
#define PS2_KC_KP_EQUAL 0x0F
#define PS2_KC_0        0x45
#define PS2_KC_1        0x16
#define PS2_KC_2        0x1E
#define PS2_KC_3        0x26
#define PS2_KC_4        0x25
#define PS2_KC_5        0x2E
#define PS2_KC_6        0x36
#define PS2_KC_7        0x3D
#define PS2_KC_8        0x3E
#define PS2_KC_9        0x46
#define PS2_KC_APOS     0x52
#define PS2_KC_COMMA    0x41
#define PS2_KC_MINUS    0x4E
#define PS2_KC_DOT      0x49
#define PS2_KC_DIV      0x4A
/* Single quote or back apostrophe */
#define PS2_KC_SINGLE   0x0E
#define PS2_KC_A        0x1C
#define PS2_KC_B        0x32
#define PS2_KC_C        0x21
#define PS2_KC_D        0x23
#define PS2_KC_E        0x24
#define PS2_KC_F        0x2B
#define PS2_KC_G        0x34
#define PS2_KC_H        0x33
#define PS2_KC_I        0x43
#define PS2_KC_J        0x3B
#define PS2_KC_K        0x42
#define PS2_KC_L        0x4B
#define PS2_KC_M        0x3A
#define PS2_KC_N        0x31
#define PS2_KC_O        0x44
#define PS2_KC_P        0x4D
#define PS2_KC_Q        0x15
#define PS2_KC_R        0x2D
#define PS2_KC_S        0x1B
#define PS2_KC_T        0x2C
#define PS2_KC_U        0x3C
#define PS2_KC_V        0x2A
#define PS2_KC_W        0x1D
#define PS2_KC_X        0x22
#define PS2_KC_Y        0x35
#define PS2_KC_Z        0x1A
#define PS2_KC_SEMI     0x4C
#define PS2_KC_BACK     0x5D
// Extra key left of Z on 102 keyboards
#define PS2_KC_EUROPE2  0x61
#define PS2_KC_OPEN_SQ  0x54
#define PS2_KC_CLOSE_SQ 0x5B
#define PS2_KC_EQUAL    0x55
#define PS2_KC_F1       0x05
#define PS2_KC_F2       0x06
#define PS2_KC_F3       0x04
#define PS2_KC_F4       0x0C
#define PS2_KC_F5       0x03
#define PS2_KC_F6       0x0B
#define PS2_KC_F7       0x83
#define PS2_KC_F8       0x0A
#define PS2_KC_F9       0x01
#define PS2_KC_F10      0x09
#define PS2_KC_F11      0x78
#define PS2_KC_F12      0x07
#define PS2_KC_F13      0x08
#define PS2_KC_F14      0x10
#define PS2_KC_F15      0x18
#define PS2_KC_F16      0x20
#define PS2_KC_F17      0x28
#define PS2_KC_F18      0x30
#define PS2_KC_F19      0x38
#define PS2_KC_F20      0x40
#define PS2_KC_F21      0x48
#define PS2_KC_F22      0x50
#define PS2_KC_F23      0x57
#define PS2_KC_F24      0x5F
#define PS2_KC_KP_COMMA 0x6D
#define PS2_KC_INTL1    0x51
#define PS2_KC_INTL2    0x13
#define PS2_KC_INTL3    0x6A
#define PS2_KC_INTL4    0x64
#define PS2_KC_INTL5    0x67
#define PS2_KC_LANG1    0xF2
#define PS2_KC_LANG2    0xF1
#define PS2_KC_LANG3    0x63
#define PS2_KC_LANG4    0x62
#define PS2_KC_LANG5    0x5F

/* Extended key codes E0 table for two byte codes */
/* PS2_CTRL and PS2_ALT Need using in any table for the right keys */
/* first is special case for PRTSCR not always used so ignored by decoding */
#define PS2_KC_IGNORE   0x12
#define PS2_KC_PRTSCR   0x7C
/* Sometimes called windows key */
#define PS2_KC_L_GUI    0x1F
#define PS2_KC_R_GUI    0x27
#define PS2_KC_MENU     0x2F
/* Break is CTRL + PAUSE generated inside keyboard */
#define PS2_KC_BREAK    0x7E
#define PS2_KC_HOME     0x6C
#define PS2_KC_END      0x69
#define PS2_KC_PGUP     0x7D
#define PS2_KC_PGDN     0x7A
#define PS2_KC_L_ARROW  0x6B
#define PS2_KC_R_ARROW  0x74
#define PS2_KC_UP_ARROW 0x75
#define PS2_KC_DN_ARROW 0x72
#define PS2_KC_INSERT   0x70
#define PS2_KC_DELETE   0x71
#define PS2_KC_KP_ENTER 0x5A
#define PS2_KC_KP_DIV   0x4A
#define PS2_KC_NEXT_TR  0x4D
#define PS2_KC_PREV_TR  0x15
#define PS2_KC_STOP     0x3B
#define PS2_KC_PLAY     0x34
#define PS2_KC_MUTE     0x23
#define PS2_KC_VOL_UP   0x32
#define PS2_KC_VOL_DN   0x21
#define PS2_KC_MEDIA    0x50
#define PS2_KC_EMAIL    0x48
#define PS2_KC_CALC     0x2B
#define PS2_KC_COMPUTER 0x40
#define PS2_KC_WEB_SEARCH  0x10
#define PS2_KC_WEB_HOME    0x3A
#define PS2_KC_WEB_BACK    0x38
#define PS2_KC_WEB_FORWARD 0x30
#define PS2_KC_WEB_STOP    0x28
#define PS2_KC_WEB_REFRESH 0x20
#define PS2_KC_WEB_FAVOR   0x18
#define PS2_KC_POWER    0x37
#define PS2_KC_SLEEP    0x3F
#define PS2_KC_WAKE     0x5E
#endif
